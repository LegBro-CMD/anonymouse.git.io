<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Anonymouse ‚Äì Anonymous Feedback</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    * {
      cursor: url('cursor.cur'), auto;
    }
    body {
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
    }
  </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen">
  <div class="relative bg-white p-8 pt-16 rounded-2xl shadow-xl w-full max-w-md text-center">
    <img src="anon.png" alt="Anonymouse Logo" class="mx-auto mb-4 w-24 h-24 rounded-full shadow-md">
    <h1 class="text-2xl font-bold text-gray-800 mb-2">üê≠ Anonymouse</h1>
    <p class="text-gray-600 mb-6">Your voice matters. Share your thoughts anonymously.</p>

    <form action="submit_feedback.php" method="POST">
      <label class="block text-sm font-medium text-gray-700">Category (optional)</label>
      <select name="category" class="w-full mt-1 p-2 border border-gray-300 rounded-lg mb-4">
        <option value="">Select</option>
        <option value="Facilities">Facilities</option>
        <option value="Academics">Academics</option>
        <option value="Staff">Staff</option>
        <option value="Other">Other</option>
      </select>

      <label class="block text-sm font-medium text-gray-700">Gender (optional)</label>
      <select name="gender" class="w-full mt-1 p-2 border border-gray-300 rounded-lg mb-4">
        <option value="">Select</option>
        <option value="Male">Male</option>
        <option value="Female">Female</option>
      </select>

      <label class="block text-sm font-medium text-gray-700">Your Feedback</label>
      <textarea name="feedback" rows="5" required class="w-full mt-1 p-2 border border-gray-300 rounded-lg resize-none mb-4" placeholder="Type your anonymous message here..."></textarea>

      <audio id="clickSound" src="Mouse Squeak Sound Effect.m4a" preload="auto"></audio>
      <button type="submit" onclick="document.getElementById('clickSound').play()" class="w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-200">Submit Feedback</button>
    </form>

    <div class="text-center mb-4">
      <a href="view_public_feedback.php" class="bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition duration-300">
          View Public Feedbacks
      </a>
  </div>

    <div class="mt-6 text-center">
      <a href="admin_login.php" class="text-sm text-blue-600 hover:underline">üîê Admin Login</a>
    </div>

    <audio id="bgMusic" src="Chess (Type Beat).m4a" loop></audio>
    <div class="mt-4">
      <label class="text-sm font-medium text-gray-700">üéµ Volume:</label>
      <input type="range" id="volumeControl" min="0" max="1" step="0.01" value="0.5" class="cursor-pointer">
    </div>
  </div>

  <script type="module">
    import Chatbox from 'https://cdn.jsdelivr.net/npm/@chaindesk/embeds@latest/dist/chatbox/index.js';
  
    const widget = await Chatbox.initBubble({
      agentId: 'cmaib90f501bx9q8tn6vipyx0',
      
      // optional 
      // If provided will create a contact for the user and link it to the conversation
      contact: {
        firstName: 'John',
        lastName: 'Doe',
        email: 'customer@email.com',
        phoneNumber: '+33612345644',
        userId: '42424242',
      },
      // optional
      // Override initial messages
      initialMessages: [
        'Hello Georges how are you doing today?',
        'How can I help you ?',
      ],
      // optional
      // Provided context will be appended to the Agent system prompt
      context: "The user you are talking to is John. Start by Greeting him by his name.",
    });
  
    // open the chat bubble
    widget.open();
  
    // close the chat bubble
    widget.close()
  
    // or 
    widget.toggle()
  </script>
  <script>
    const bgMusic = document.getElementById("bgMusic");
    const volumeSlider = document.getElementById("volumeControl");
    bgMusic.volume = volumeSlider.value;
    document.addEventListener("click", () => {
      if (bgMusic.paused) bgMusic.play();
    }, { once: true });
    volumeSlider.addEventListener("input", () => {
      bgMusic.volume = volumeSlider.value;
    });
  </script>
</body>
</html>